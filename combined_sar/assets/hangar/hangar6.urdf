<?xml version="1.0"?>
<robot name="drone_hangar">

  <!-- ========================= -->
  <!--        MATERIALS          -->
  <!-- ========================= -->
  <material name="concrete">
    <color rgba="0.5 0.5 0.5 1.0"/>
  </material>
  <material name="brick_red">
    <color rgba="0.6 0.2 0.2 1.0"/>
  </material>
  <material name="floor_color">
    <color rgba="0.3 0.35 0.3 1.0"/>
  </material>
  <material name="roof_color">
    <color rgba="0.8 0.8 0.8 0.4"/> <!-- Semi-transparent for visibility -->
  </material>
  <material name="door_frame_color">
    <color rgba="0.4 0.2 0.1 1.0"/>
  </material>

  <!-- ========================= -->
  <!--       BASE / FLOOR        -->
  <!-- ========================= -->
  <!-- Center of the building logic is at (0,0,0) on the floor -->
  
  <link name="base_link">
    <!-- No geometry, just a reference frame -->
  </link>

  <link name="floor">
    <visual>
      <geometry>
        <box size="8.5 8.5 0.1"/>
      </geometry>
      <material name="floor_color"/>
    </visual>
    <collision>
      <geometry>
        <box size="8.0 8.0 0.1"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1000.0"/>
      <inertia ixx="100" ixy="0" ixz="0" iyy="100" iyz="0" izz="100"/>
    </inertial>
  </link>

  <joint name="floor_joint" type="fixed">
    <parent link="base_link"/>
    <child link="floor"/>
    <origin xyz="0 0 -0.05" rpy="0 0 0"/>
  </joint>

  <!-- ========================= -->
  <!--          WALLS            -->
  <!-- ========================= -->
  <!-- Building is approx 5m x 5m x 3m tall -->

  <!-- Back Wall (Solid) -->
  <link name="back_wall">
    <visual>
      <geometry>
        <box size="0.2 8.2 3.0"/>
      </geometry>
      <material name="brick_red"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.2 8.2 3.0"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="50.0"/>
      <inertia ixx="1" ixy="0" ixz="0" iyy="1" iyz="0" izz="1"/>
    </inertial>
  </link>

  <joint name="back_wall_joint" type="fixed">
    <parent link="floor"/>
    <child link="back_wall"/>
    <origin xyz="-4.1 0 1.55" rpy="0 0 0"/> <!-- Z = 3.0/2 + 0.05 -->
  </joint>

  <!-- Left Wall (Solid) -->
  <link name="left_wall">
    <visual>
      <geometry>
        <box size="8.0 0.2 3.0"/>
      </geometry>
      <material name="concrete"/>
    </visual>
    <collision>
      <geometry>
        <box size="8.0 0.2 3.0"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="50.0"/>
      <inertia ixx="1" ixy="0" ixz="0" iyy="1" iyz="0" izz="1"/>
    </inertial>
  </link>

  <joint name="left_wall_joint" type="fixed">
    <parent link="floor"/>
    <child link="left_wall"/>
    <origin xyz="0 4 1.55" rpy="0 0 0"/>
  </joint>

  <!-- Right Wall (Solid) -->
  <link name="right_wall">
    <visual>
      <geometry>
        <box size="8 0.2 3.0"/>
      </geometry>
      <material name="concrete"/>
    </visual>
    <collision>
      <geometry>
        <box size="8.0 0.2 3.0"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="50.0"/>
      <inertia ixx="1" ixy="0" ixz="0" iyy="1" iyz="0" izz="1"/>
    </inertial>
  </link>

  <joint name="right_wall_joint" type="fixed">
    <parent link="floor"/>
    <child link="right_wall"/>
    <origin xyz="0 -4 1.55" rpy="0 0 0"/>
  </joint>

  <!-- ========================= -->
  <!--    FRONT WALL (DOOR)      -->
  <!-- ========================= -->
  <!-- Constructed of 3 parts to create a hole in the mesh -->
  <!-- Door is 1.2m wide, centered at Y=0 -->

  <!-- Front Left Panel -->
  <link name="front_wall_left">
    <visual>
      <geometry>
        <!-- Width: (5m total - 1.2m door)/2 = 1.9m -->
        <box size="0.2 3.5 3.0"/>
      </geometry>
      <material name="brick_red"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.2 3.5 3.0"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="20.0"/>
      <inertia ixx="1" ixy="0" ixz="0" iyy="1" iyz="0" izz="1"/>
    </inertial>
  </link>

  <joint name="front_wall_left_joint" type="fixed">
    <parent link="floor"/>
    <child link="front_wall_left"/>
    <!-- Y pos: 1.2/2 + 1.9/2 = 0.6 + 0.95 = 1.55 -->
    <origin xyz="4 2.25 1.55" rpy="0 0 0"/>
  </joint>

  <!-- Front Right Panel -->
  <link name="front_wall_right">
    <visual>
      <geometry>
        <box size="0.2 3.5 3.0"/>
      </geometry>
      <material name="brick_red"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.2 3.5 3.0"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="20.0"/>
      <inertia ixx="1" ixy="0" ixz="0" iyy="1" iyz="0" izz="1"/>
    </inertial>
  </link>

  <joint name="front_wall_right_joint" type="fixed">
    <parent link="floor"/>
    <child link="front_wall_right"/>
    <!-- Y pos: -1.55 -->
    <origin xyz="4 -2.25 1.55" rpy="0 0 0"/>
  </joint>

  <!-- Front Header (Above Door) -->
  <link name="front_wall_header">
    <visual>
      <geometry>
        <!-- Gap width 1.2m. Height: 3.0m - 2.5m door height = 0.5m thick -->
        <box size="0.2 1.2 0.5"/>
      </geometry>
      <material name="brick_red"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.2 1.2 0.5"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="5.0"/>
      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>
    </inertial>
  </link>

  <joint name="front_wall_header_joint" type="fixed">
    <parent link="floor"/>
    <child link="front_wall_header"/>
    <!-- Z pos: 2.5m door height + 0.5/2 = 2.75 -->
    <origin xyz="4 0 2.80" rpy="0 0 0"/> <!-- Relative to floor which is at z=-0.05. --> 
    <!-- Floor surf is at 0. So 2.5m up is 2.5. Center of 0.5 block is 2.75. -->
  </joint>

  <link name="door_frame_left">
    <visual>
      <geometry>
        <box size="0.25 0.1 2.5"/>
      </geometry>
      <material name="door_frame_color"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.1 0.1 2.5"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="2.0"/>
      <inertia ixx="0.05" ixy="0" ixz="0" iyy="0.05" iyz="0" izz="0.05"/>
    </inertial>
  </link>
  <joint name="door_frame_left_joint" type="fixed">
    <parent link="floor"/>
    <child link="door_frame_left"/>
    <!-- X pos: 4 - 0.05 = 3.95; Y pos: -0.6; Z pos: 1.25 -->
    <origin xyz="4 -.5 1.25" rpy="0 0 0"/>
  </joint>

  <link name="door_frame_right">
    <visual>
      <geometry>
        <box size="0.25 0.1 2.5"/>
      </geometry>
      <material name="door_frame_color"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.1 0.1 2.5"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="2.0"/>
      <inertia ixx="0.05" ixy="0" ixz="0" iyy="0.05" iyz="0" izz="0.05"/>
    </inertial>
  </link>
  <joint name="door_frame_right_joint" type="fixed">
    <parent link="floor"/>
    <child link="door_frame_right"/>
    <!-- X pos: 4 - 0.05 = 3.95; Y pos: 0.6; Z pos: 1.25 -->
    <origin xyz="4 .5 1.25" rpy="0 0 0"/>
  </joint>

  <link name="door_frame_top">
    <visual>
      <geometry>
        <box size="0.25 1.2 0.1"/>
      </geometry>
      <material name="door_frame_color"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.1 1.2 0.25"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.0"/>
      <inertia ixx="0.02" ixy="0" ixz="0" iyy="0.02" iyz="0" izz="0.02"/>
    </inertial>
  </link>
  <joint name="door_frame_top_joint" type="fixed">
    <parent link="floor"/>
    <child link="door_frame_top"/>
    <!-- X pos: 4 - 0.05 = 3.95; Y pos: 0; Z pos: 2.5 + 0.125 = 2.625 -->
    <origin xyz="4 0 2.5" rpy="0 0 0"/>
  </joint>


  <!-- ========================= -->
  <!--           ROOF            -->
  <!-- ========================= -->
  
  <link name="roof">
    <visual>
      <geometry>
        <box size="8.5 8.5 0.1"/>
      </geometry>
      <material name="roof_color"/>
    </visual>
    <collision>
      <geometry>
        <box size="8.5 8.5 0.1"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="100.0"/>
      <inertia ixx="10" ixy="0" ixz="0" iyy="10" iyz="0" izz="10"/>
    </inertial>
  </link>

  <joint name="roof_joint" type="fixed">
    <parent link="floor"/>
    <child link="roof"/>
    <origin xyz="0 0 3.1" rpy="0 0 0"/>
  </joint>

</robot>